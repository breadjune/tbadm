<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" class="fullscreen-bg">

<head>
	<title>Login | TRAFFICBOSS</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<!-- VENDOR CSS -->
	<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
<!--	<link rel="stylesheet" type="text/css" href="/vendor/font-awesome/css/font-awesome.min.css">-->
<!--	<link rel="stylesheet" type="text/css" href="/vendor/linearicons/style.css">-->
	<!-- MAIN CSS -->
	<link rel="stylesheet" type="text/css" href="/css/main.css">
	<!-- FOR DEMO PURPOSES ONLY. You should remove this in your project -->
	<link rel="stylesheet" type="text/css" href="/css/demo.css">
	<!-- GOOGLE FONTS -->
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" >
	<!-- ICONS -->
	<link rel="apple-touch-icon" sizes="76x76" href="/img/apple-icon.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/img/favicon.png">
</head>

<body>
	<!-- WRAPPER -->
	<div id="wrapper">
		<div class="vertical-align-wrap">
			<div class="vertical-align-middle">
				<div class="auth-box ">
					<div class="left">
						<div class="content">
							<div class="header">
								<div class="logo text-center"><img src="/img/logo.png" alt="Metaboss" style="width: 350px"></div>
							</div>
							<form class="form-auth-small" action="/login.do" method="post">
								<div class="form-group">
									<label for="userId" class="control-label sr-only">아이디</label>
									<input type="text" class="form-control" id="userId" name="userId" value="admin" placeholder="아이디">
								</div>
								<div class="form-group">
									<label for="userPw" class="control-label sr-only">패스워드</label>
									<input type="password" class="form-control" id="userPw" name="userPw" value="dudwnsl1993!" placeholder="패스워드">
								</div>
								<div class="form-group clearfix">
									<label class="fancy-checkbox element-left">
										<input type="checkbox">
										<span>아이디 기억하기</span>
									</label>
								</div>
								<button type="submit" class="btn btn-lg btn-block" style="background-color: black; border-color: black; color: white">LOGIN</button>
							</form>
						</div>
					</div>
					<div class="img_wrap">
						<div class="covervid-wrapper">
							<img id="login-bg" src="/img/background/1.jpg" style="width: 100%; height: 100%" onerror="imgError(this)">
						</div>
					</div>
					<div class="clearfix"></div>
				</div>
			</div>
		</div>
	</div>
	<!-- END WRAPPER -->
	<script>
		const el = document.querySelector('#login-bg');

		if (document.body.clientWidth > 1022) document.querySelector('.img_wrap').style.display = 'block';
		else document.querySelector('.img_wrap').style.display = 'none';

		window.addEventListener("resize", function(event) {
			if (document.body.clientWidth > 1022) document.querySelector('.img_wrap').style.display = 'block';
			else document.querySelector('.img_wrap').style.display = 'none';
		})

		setInterval(function() {
			window.requestAnimationFrame(fadeIn);
		}, 10000);

		function fadeIn() {
			var val = (+el.style.opacity == 0) ? 1 : +el.style.opacity;
			if ((val -= .01) > 0) {
				el.style.opacity = val;
				window.requestAnimationFrame(fadeIn);
			} else {
				const regex = /[^0-9]/g;
				const src_dir = '/img/background/'
				let src_path = el.src.substring(el.src.indexOf(src_dir));
				let next_img_num = Number(src_path.replace(regex, ""))+1;
				el.src = src_dir+next_img_num+'.jpg';
				window.requestAnimationFrame(fadeOut);
			}
		}

		function fadeOut() {
			var val = (+el.style.opacity == 0) ? 1 : +el.style.opacity;
			if ((val += .01) < 1) {
				el.style.opacity = val;
				window.requestAnimationFrame(fadeOut);
			}
		};

		function imgError(el) {
			el.src = '/img/background/1.jpg';
		}
	</script>
</body>
</html>
